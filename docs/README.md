# Техническая документация ГАНИМЕД

## Реализованные сервисы

Полное описание всех реализованных компонентов (ядро, API, консенсус, VM, токены, **мониторинг**, **аудит**, интеграция, БД, конфигурация) — **[services.md](services.md)**.

### Кратко по разделам

**1. Ядро (Core)** — блокчейн, блоки, состояние (State), транзакции, мемпул, кошельки, токены, контракты, метрики, пул БД, криптография.  
**2. API** — REST (8182), RPC (8181), WebSocket (8183). Подключение к ноде: **main-node.gnd-net.com**. Документация по API: **api.gnd-net.com**. Создание кошелька: **POST /api/v1/wallet** (обязателен **X-API-Key**). Балансы кошелька: **GET /api/v1/wallet/:address/balance** — возвращает все токены из `token_balances` с полями из `tokens` (standard, symbol, name, decimals, is_verified); API-ключ не требуется. Создание токена: **POST /api/v1/token/deploy** (обязателен **X-API-Key**); полная логика — [api-token-deploy.md](api-token-deploy.md).  
**3. VM** — EVM, деплой и вызов контрактов, стандарт GND-st1.  
**4. Консенсус** — PoA/PoS, выбор по транзакции.  
**5. Токены** — GND-st1, registry, handlers, deployer.  
**6. Мониторинг** — метрики (MetricsRegistry), алерты (AlertManager), события (EventLogger).  
**7. Аудит** — монитор подозрительных транзакций, отчёты, правила, проверки безопасности контрактов.  
**8. Интеграция** — мосты, оракулы, адреса, IPFS.

## Разработка

### 1. Смарт-контракты
- Стандарты токенов
- Библиотека контрактов
- Шаблоны контрактов
- Тестирование

### 2. Интеграция
- API интеграция
- SDK использование
- Аутентификация
- Безопасность

### 3. Тестирование
- Модульные тесты
- Интеграционные тесты
- Нагрузочное тестирование
- Безопасность

## API

### 1. REST API
- Эндпоинты (см. [api-requests.md](api-requests.md), [api.md](api.md))
- Аутентификация по **X-API-Key** для операций от внешних систем (в т.ч. **POST /api/v1/token/deploy**)
- Создание токена: [api-token-deploy.md](api-token-deploy.md)
- **Админское API** (выдача/отзыв API-ключей, имена и роли кошельков): [admin-api.md](admin-api.md)
- Форматы данных, обработка ошибок

### 2. WebSocket API
- События
- Подписки
- Форматы сообщений
- Обработка ошибок

### 3. JSON-RPC
- Методы
- Параметры
- Форматы данных
- Обработка ошибок

## Безопасность

### 1. Аутентификация
- API ключи
- JWT токены
- OAuth 2.0
- Многофакторная аутентификация

### 2. Авторизация
- Роли и права
- Доступ к ресурсам
- Ограничения
- Аудит

### 3. Защита данных
- Шифрование
- Безопасное хранение
- Передача данных
- Резервное копирование

## Мониторинг (реализовано)

- **Метрики:** core.Metrics (блоки, транзакции, комиссии), monitoring.MetricsRegistry (gauge, counter, hist), запись в файл.
- **Логирование:** мониторинг пула БД (main: monitorPoolStats), логи воркеров транзакций.
- **Алерты:** core (GetMetrics, AlertHistory, SetAlertThresholds), monitoring.AlertManager (SendAlert, ListAlerts, файл).
- **События:** monitoring.EventLogger (уровни DEBUG–FATAL, Component, EventType).

## Развертывание

### 1. Требования
- Системные требования
- Зависимости
- Конфигурация
- Сетевое окружение

### 2. Конфигурация
- Настройка
- Переменные окружения
- Файлы конфигурации
- Безопасность

### 3. Масштабирование
- Горизонтальное масштабирование
- Вертикальное масштабирование
- Балансировка нагрузки
- Кэширование

## Поддержка

### 1. Документация
- API: [api.md](api.md), [api-requests.md](api-requests.md), создание токена по X-API-Key: [api-token-deploy.md](api-token-deploy.md)
- Админское API (X-Admin-Token, ключи, кошельки): [admin-api.md](admin-api.md)
- Руководства, примеры, часто задаваемые вопросы

### 2. Обучение
- Техническое обучение
- Бизнес-процессы
- Безопасность
- Интеграция

### 3. Контакты
- Техническая поддержка
- Разработка
- Безопасность
- Управление

## Лицензия
Корпоративная лицензия. Все права защищены.
KB @CerbeRus - Nexus Invest Team 